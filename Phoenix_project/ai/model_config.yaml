# This file defines the architecture of the Reasoning Ensemble.
# It specifies which reasoners (Level 1 models) are active and
# the configuration for the MetaLearner (Level 2 model).

# Configuration for the Level 2 model that synthesizes Level 1 outputs.
meta_learner:
  # The number of past time steps the model considers for its predictions.
  n_timesteps: 5
  # The number of features in the input vector. This must match the
  # number of features generated by the _create_feature_vector method.
  n_features: 16 # Adjust this as you add/remove features

# A list of active Level 1 reasoners. The system will instantiate and use
# any reasoner that is marked as 'enabled: true'.
reasoners:
  # A simple symbolic logic reasoner based on configurable rules.
  - name: "SymbolicLogicReasoner"
    class: "ai.reasoning_ensemble.SymbolicLogicReasoner"
    enabled: true
    config:
      rules_path: "config/symbolic_rules.yaml"

  # A probabilistic graphical model reasoner.
  - name: "BayesianBeliefNetworkReasoner"
    class: "ai.reasoning_ensemble.BayesianBeliefNetworkReasoner"
    enabled: true

  # A large language model that provides a qualitative explanation.
  - name: "LLMExplainerReasoner"
    class: "ai.reasoning_ensemble.LLMExplainerReasoner"
    enabled: true
  # [NEW] A non-gradient-based tree ensemble for cognitive diversity.
  - name: "DeepForestReasoner"
    class: "ai.reasoning_ensemble.DeepForestReasoner"
    enabled: true

# [NEW] Loss Function Configuration for the MetaLearner
loss_function:
  # Weight for the Beta NLL loss in the compound loss. The Focal Loss weight will be (1.0 - beta_nll_weight).
  beta_nll_weight: 0.5
  # The 'gamma' parameter for the Focal Loss component. Higher gamma focuses more on hard-to-classify examples.
  focal_loss_gamma: 2.0

# [NEW] Adversarial Training Configuration for the MetaLearner
adversarial_training:
  enabled: true
  # Epsilon determines the magnitude of the perturbation.
  epsilon: 0.02
